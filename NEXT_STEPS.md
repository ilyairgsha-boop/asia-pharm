# üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ - Asia Pharm –≤ Figma Make

## ‚úÖ –ß—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ

- ‚úÖ –ü—Ä–æ–µ–∫—Ç –æ—á–∏—â–µ–Ω –æ—Ç –Ω–µ–Ω—É–∂–Ω—ã—Ö –º–∏–≥—Ä–∞—Ü–∏–π
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–ª—è Figma Make
- ‚úÖ Supabase –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ Edge Function –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- ‚úÖ KV Store —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ Email —Å–µ—Ä–≤–∏—Å (Resend) –Ω–∞—Å—Ç—Ä–æ–µ–Ω

---

## üöÄ –ß—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ?

### 1Ô∏è‚É£ –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç –ª–æ–∫–∞–ª—å–Ω–æ

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—ã –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
cd ~/Desktop/Asianew/wp/src

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ dev —Å–µ—Ä–≤–µ—Ä
npm run dev
```

–û—Ç–∫—Ä–æ–π—Ç–µ: http://localhost:5173

---

### 2Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É —Å–∞–π—Ç–∞

–í –±—Ä–∞—É–∑–µ—Ä–µ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

- ‚úÖ –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- ‚úÖ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —è–∑—ã–∫–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç (RU/EN/ZH/VI)
- ‚úÖ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç (–ö–∏—Ç–∞–π/–¢–∞–∏–ª–∞–Ω–¥/–í—å–µ—Ç–Ω–∞–º)
- ‚úÖ –ú–µ–Ω—é –∫–∞—Ç–µ–≥–æ—Ä–∏–π –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- ‚úÖ –ú–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é/–≤—Ö–æ–¥

---

### 3Ô∏è‚É£ –°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤–æ–≥–æ –∞–¥–º–∏–Ω–∞

#### –í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–∞–π—Ç–∞ (–ø—Ä–æ—â–µ)

1. –ù–∞ —Å–∞–π—Ç–µ –Ω–∞–∂–º–∏—Ç–µ "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è"
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å —Å –ª—é–±—ã–º email (–Ω–∞–ø—Ä–∏–º–µ—Ä: `admin@test.com`)
3. –û—Ç–∫—Ä–æ–π—Ç–µ Supabase Dashboard: https://supabase.com/dashboard/project/boybkoyidxwrgsayifrd
4. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **SQL Editor**
5. –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL:

```sql
-- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω
SELECT id, email FROM auth.users WHERE email = 'admin@test.com';

-- –ü–æ–ª—É—á–∏—Ç–µ user_id –∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –≤—ã—à–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
INSERT INTO user_profiles (id, email, name, is_admin, loyalty_points, total_spent)
VALUES (
  'USER_ID_FROM_ABOVE', 
  'admin@test.com', 
  'Admin', 
  true, 
  0, 
  0
)
ON CONFLICT (id) DO UPDATE SET is_admin = true;
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ KV Store —á–µ—Ä–µ–∑ Edge Function (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è Figma Make).

#### –í–∞—Ä–∏–∞–Ω—Ç B: –ß–µ—Ä–µ–∑ Edge Function endpoint

–°–æ–∑–¥–∞–π—Ç–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∞–¥–º–∏–Ω–∞:

```bash
# –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –≤–∞—à–µ–º —Å–∞–π—Ç–µ
# –ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

const response = await fetch('https://boybkoyidxwrgsayifrd.supabase.co/functions/v1/make-server-a75b5353/admin/init-admin', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
  },
  body: JSON.stringify({
    email: 'admin@test.com',
  }),
});

console.log(await response.json());
```

---

### 4Ô∏è‚É£ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —É–∂–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ `/utils/categories.ts`, –Ω–æ –Ω—É–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏—Ö –≤ KV Store.

#### –°–æ–∑–¥–∞–π—Ç–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:

–í —Ñ–∞–π–ª–µ `/supabase/functions/make-server-a75b5353/index.ts` –¥–æ–±–∞–≤—å—Ç–µ:

```typescript
// –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
import { topCategories, sideCategories } from '../../../utils/categories.ts';

// –î–æ–±–∞–≤—å—Ç–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç
app.post('/make-server-a75b5353/admin/init-categories', async (c) => {
  try {
    // –û–±—ä–µ–¥–∏–Ω–∏—Ç–µ –≤—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
    const allCategories = [...topCategories, ...sideCategories];
    
    // –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤ KV Store
    await kv.set('categories', allCategories);
    
    return c.json({ 
      success: true, 
      message: 'Categories initialized',
      count: allCategories.length 
    });
  } catch (error) {
    console.error('Init categories error:', error);
    return c.json({ error: error.message }, 500);
  }
});
```

–ó–∞—Ç–µ–º –≤—ã–∑–æ–≤–∏—Ç–µ –∏–∑ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞:

```javascript
const response = await fetch('https://boybkoyidxwrgsayifrd.supabase.co/functions/v1/make-server-a75b5353/admin/init-categories', {
  method: 'POST',
});
console.log(await response.json());
```

---

### 5Ô∏è‚É£ –î–æ–±–∞–≤—å—Ç–µ –¥–µ–º–æ-—Ç–æ–≤–∞—Ä—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–°–æ–∑–¥–∞–π—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏.

#### –ß–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å:

1. –í–æ–π–¥–∏—Ç–µ –Ω–∞ —Å–∞–π—Ç –∫–∞–∫ –∞–¥–º–∏–Ω
2. –û—Ç–∫—Ä–æ–π—Ç–µ **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å**
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏**
4. –ù–∞–∂–º–∏—Ç–µ **–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä**
5. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ

#### –ò–ª–∏ —á–µ—Ä–µ–∑ –∫–æ–¥:

```javascript
const demoProducts = [
  {
    id: '1',
    name_ru: '–¢–∏–≥—Ä–æ–≤—ã–π –±–∞–ª—å–∑–∞–º',
    name_en: 'Tiger Balm',
    name_zh: 'ËÄÅËôéËÜè',
    name_vi: 'Cao con h·ªï',
    description_ru: '–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Ç–∏–≥—Ä–æ–≤—ã–π –±–∞–ª—å–∑–∞–º –æ—Ç –±–æ–ª–µ–π –≤ –º—ã—à—Ü–∞—Ö –∏ —Å—É—Å—Ç–∞–≤–∞—Ö',
    price: 150,
    country: 'china',
    category_ids: ['ointments'],
    disease_category_ids: ['joints', 'skin'],
    in_stock: true,
    is_sample: false,
    image_url: 'https://via.placeholder.com/400',
    created_at: new Date().toISOString(),
  },
  {
    id: '2',
    name_ru: '–ü–ª–∞—Å—Ç—ã—Ä—å –æ–±–µ–∑–±–æ–ª–∏–≤–∞—é—â–∏–π',
    name_en: 'Pain Relief Patch',
    name_zh: 'Ê≠¢ÁóõË¥¥',
    name_vi: 'Mi·∫øng d√°n gi·∫£m ƒëau',
    description_ru: '–ü–ª–∞—Å—Ç—ã—Ä—å –¥–ª—è —Å–Ω—è—Ç–∏—è –±–æ–ª–∏ –≤ —Å—É—Å—Ç–∞–≤–∞—Ö',
    price: 200,
    country: 'china',
    category_ids: ['patches'],
    disease_category_ids: ['joints'],
    in_stock: true,
    is_sample: false,
    image_url: 'https://via.placeholder.com/400',
    created_at: new Date().toISOString(),
  },
];

// –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —á–µ—Ä–µ–∑ Edge Function
const response = await fetch('https://boybkoyidxwrgsayifrd.supabase.co/functions/v1/make-server-a75b5353/admin/init-products', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
  },
  body: JSON.stringify({ products: demoProducts }),
});
console.log(await response.json());
```

---

### 6Ô∏è‚É£ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

#### –î–ª—è –ø–æ–∫—É–ø–∞—Ç–µ–ª—è:
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–æ–≤–∞—Ä–æ–≤
- ‚úÖ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ—Ä–∑–∏–Ω—É
- ‚úÖ –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞
- ‚úÖ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–æ–º–æ–∫–æ–¥–∞
- ‚úÖ –ü—Ä–æ–≥—Ä–∞–º–º–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏

#### –î–ª—è –∞–¥–º–∏–Ω–∞:
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤
- ‚úÖ Email —Ä–∞—Å—Å—ã–ª–∫–∏
- ‚úÖ –ê–Ω–∞–ª–∏—Ç–∏–∫–∞

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- **Supabase Dashboard**: https://supabase.com/dashboard/project/boybkoyidxwrgsayifrd
- **Edge Function Logs**: https://supabase.com/dashboard/project/boybkoyidxwrgsayifrd/functions/make-server-a75b5353/logs
- **Resend Dashboard**: https://resend.com/emails

---

## üÜò –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ –º–æ–≥—É –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è

**–†–µ—à–µ–Ω–∏–µ**: 
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Edge Function –≤ Supabase Dashboard
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ auth –≤–∫–ª—é—á–µ–Ω –≤ Supabase

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ**: 
1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —á–µ—Ä–µ–∑ —ç–Ω–¥–ø–æ–∏–Ω—Ç (—à–∞–≥ 4)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ KV Store –¥–æ—Å—Ç—É–ø–µ–Ω

### –ü—Ä–æ–±–ª–µ–º–∞: –¢–æ–≤–∞—Ä—ã –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ**:
1. –î–æ–±–∞–≤—å—Ç–µ –¥–µ–º–æ-—Ç–æ–≤–∞—Ä—ã (—à–∞–≥ 5)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç `/products` –≤ Edge Function
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏

### –ü—Ä–æ–±–ª–µ–º–∞: Email –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ**:
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `RESEND_API_KEY` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ Supabase secrets
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–∏–º–∏—Ç—ã Resend (100 –ø–∏—Å–µ–º/–¥–µ–Ω—å –Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–º –ø–ª–∞–Ω–µ)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Edge Function

---

## ‚ö†Ô∏è –ù–ï –ó–ê–ë–£–î–¨–¢–ï

```bash
# ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–∏ –∫–æ–º–∞–Ω–¥—ã –≤ Figma Make:
supabase link
supabase db push
supabase migration up

# ‚úÖ –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
# - Supabase Dashboard –¥–ª—è SQL
# - KV Store –¥–ª—è –¥–∞–Ω–Ω—ã—Ö
# - Edge Functions –¥–ª—è API
```

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–∏—Ö —à–∞–≥–æ–≤ –≤–∞—à –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω –±—É–¥–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

**–°–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø**: –î–æ–±–∞–≤—å—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã, –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –¥–∏–∑–∞–π–Ω –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –≤ production!

---

**–í–æ–ø—Ä–æ—Å—ã?** 

–ß–∏—Ç–∞–π—Ç–µ:
- [FIGMA_MAKE_SETUP.md](./FIGMA_MAKE_SETUP.md) - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [README.md](./README.md) - –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞
- [DEPLOYMENT.md](./DEPLOYMENT.md) - –î–µ–ø–ª–æ–π –Ω–∞ Vercel
